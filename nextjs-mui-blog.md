# Introduction

In this tutorial, I will walk you through how to create a blog and portfolio website using Next.js and Material UI. This project is a lightweight, SEO-friendly, and highly customizable template that features dark mode support, token-based theming, a dynamic Table of Contents (TOC), code highlighting, and performance optimizations to achieve 90-100% Lighthouse scores.

# Setup

## Next.js Installation

To get started we will install the latest Next.js version and create a new project:

```bash
npx create-next-app@latest nextjs-mui-blog-starter
```

When the installation starts, you will be prompted with a few questions. You can choose the default settings or customize them to your liking as long as you exlcude Tailwind CSS as we will be using Material UI for styling.

After the installation is complete, navigate to the project and run the following command to start and test the project:

```bash
cd nextjs-mui-blog-starter
npm run dev
```

We should now see the default Next.js landing page.

## Material UI Setup

Next, we will install Material UI and its dependencies:

```bash
npm install @mui/material @emotion/react @emotion/styled @mui/material-nextjs @emotion/cache
```

For styling, we will use the `@emotion/react` and `@emotion/styled` packages. The `@mui/material-nextjs` package is a custom server-side rendering (SSR) solution for Material UI that is optimized for Next.js.

Now let's do some clean up and basic MUI addtions:

- Get rid of the `globals.css` file as we will be using Material UI's built-in CSS-in-JS solution
- Clean up `pagee.tsx` to remove the default content
- Make the following changes to the `layout.tsx` file:

```tsx
import { CssBaseline } from "@mui/material";
import { AppRouterCacheProvider } from "@mui/material-nextjs/v15-appRouter";

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body>
        <AppRouterCacheProvider>
          <CssBaseline />
          {children}
        </AppRouterCacheProvider>
      </body>
    </html>
  );
}
```

The `AppRouterCacheProvider` component is responsible for collecting the CSS generated by MUI System on the server, as Next.js is streaming chunks of the .html page to the client. (https://mui.com/material-ui/integrations/nextjs/)

`CSSBaseline` is a component that applies the baseline styles to the document, including the default font family, color, and background. (https://mui.com/components/css-baseline/)

At this point, you should have a clean project with white background and no default styles.

## Test Material UI

To test if Material UI is working correctly, let's create a simple `Header` component and import it into the `layout.tsx` file:

```tsx
import AppBar from "@mui/material/AppBar";
import Toolbar from "@mui/material/Toolbar";
import Typography from "@mui/material/Typography";
import Button from "@mui/material/Button";

export default function Header() {
  return (
    <AppBar position="static">
      <Toolbar>
        <Typography variant="h6" mr={5}>
          My Blog
        </Typography>
        <Button color="inherit">Home</Button>
        <Button color="inherit">Blog</Button>
        <Button color="inherit">About</Button>
      </Toolbar>
    </AppBar>
  );
}
```

```tsx {3, 15}
import { CssBaseline } from "@mui/material";
import { AppRouterCacheProvider } from "@mui/material-nextjs/v15-appRouter";
import Header from "./components/Header";

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body>
        <AppRouterCacheProvider>
          <CssBaseline />
          <Header />
          {children}
        </AppRouterCacheProvider>
      </body>
    </html>
  );
}
```

If you see the blue header with the "My Blog" title and navigation buttons, Material UI is set up correctly for you!

![Next.js and Material UI](https://example.com/nextjs-mui-blog.png)
